$(document).ready(function(){!function(){$.getJSON("http://api.openweathermap.org/data/2.5/weather?id=6356042&APPID=de3bc277144ce6d8ff3a04de56e1922c&units=metric").then(function(e){var a=$("#weather-template").html(),r=new Date,t=e.main.temp,n=e.main.temp_max,c=e.main.temp_min;a=a.replace("currenttime",r.getHours()+":"+r.getMinutes()).replace("currentlocation",e.name).replace("mainweather",e.weather[0].main).replace("weathermain",e.weather[0].main).replace("currenttemp",t).replace("maxtemp",n).replace("mintemp",c),$(".weather-panel").html(a),"Clear"==e.weather[0].main?$(".weather-bg").css("background-color","#5EBCFF"):"Sunny"==e.weather[0].main?$(".weather-bg").css("background-color","#FFD759"):"Clouds"==e.weather[0].main?$(".weather-bg").css("background-color","#6D767F"):"Haze"==e.weather[0].main||"Fog"==e.weather[0].main?$(".weather-bg").css("background-color","#C2D6FF"):"Rain"==e.weather[0].main||"Drizzle"==e.weather[0].main?$(".weather-bg").css("background-color","#4295FF"):"Thunderstorm"==e.weather[0].main?$(".weather-bg").css("background-color","#59577F"):"Mist"==e.weather[0].main&&$(".weather-bg").css("background-color","#B0CFFF")},function(){console.log("error fetching data")})}()});